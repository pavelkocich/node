{"changed":true,"filter":false,"title":"test.js","tooltip":"/test.js","value":"var mocha = require('mocha');\nvar async = require('async');\nvar chai = require('chai');\nvar Request = require('./request.js');\nvar counter = require('./counter.js');\nvar repository = require('./repository.js');\n\nmocha.describe(\"request\", function() {\n   mocha.describe(\"hasCount\", function() {\n        mocha.it(\"Standard request without count\", function(done) {\n            var parameters = {parameter1 : \"value1\", parameter2 : \"value2\"},\n               data = new Request(parameters),\n               result = data.hasCount();\n            \n            chai.expect(result).equal(false);\n            done();\n        });\n        mocha.it(\"Standard request with count\", function(done) {\n            var parameters = {parameter1 : \"value1\", parameter2 : \"value2\", count : \"\"},\n               data = new Request(parameters),\n               result = data.hasCount();\n            \n            chai.expect(result).equal(true);\n            done();\n        });\n    });\n});\n\nmocha.describe(\"counter\", function() {\n   mocha.describe(\"increment\", function() {\n        mocha.beforeEach(function(done) {\n            counter.reset(function(err, repl) {\n                            done();\n                        });\n            });\n        mocha.it(\"First increment\", function(done) {\n            counter.increment(function(err, repl) {\n                            chai.expect(repl).equal(1);\n                            done();\n                        });\n      });\n   });\n});\n           \nmocha.describe(\"repository\", function() {\n   mocha.describe(\"save\", function() {\n        mocha.beforeEach(function(done) {\n            console.log(\"je to tu\");\n            repository.clear(function(err, repl) {\n                            done();\n                        });\n            });\n        mocha.it(\"Save request\", function(done) {\n            var parameters = {paremeter1 : \"value1\", parameter2 : \"value2\"},\n                request = new Request(parameters),\n                data = request.getData();\n            \n            async.series([\n                function (callback) {\n                    repository.save(data, function(err, repl) {\n                            callback(err, repl);\n                        });\n                },\n                function (callback) {\n                    repository.read(function(err, repl) {\n                            callback(err, repl);\n                        });\n                }],\n                function(err, results){\n                    if (err)\n                        chai.fail(\"No error\",err);\n                    else\n                        chai.expect(results[1].toString()).equal(data);\n                    \n                    done();\n                });\n      });\n   });\n});\n           ","undoManager":{"mark":99,"position":100,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":24,"column":13},"end":{"row":24,"column":14}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":24,"column":14},"end":{"row":24,"column":15}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":24,"column":15},"end":{"row":24,"column":16}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":24,"column":16},"end":{"row":24,"column":18}},"text":"()"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":24,"column":18},"end":{"row":24,"column":19}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":27,"column":0},"end":{"row":27,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":26,"column":0},"end":{"row":26,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":15,"column":10},"end":{"row":15,"column":11}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":15,"column":9},"end":{"row":15,"column":10}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":15,"column":8},"end":{"row":15,"column":9}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":15,"column":4},"end":{"row":15,"column":8}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":15,"column":0},"end":{"row":15,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":15,"column":0},"end":{"row":15,"column":1}},"text":" "},{"action":"removeText","range":{"start":{"row":14,"column":45},"end":{"row":15,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":14,"column":44},"end":{"row":14,"column":45}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":14,"column":44},"end":{"row":14,"column":45}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":71,"column":60},"end":{"row":72,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":72,"column":0},"end":{"row":72,"column":24}},"text":"                        "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":72,"column":20},"end":{"row":72,"column":24}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":72,"column":16},"end":{"row":72,"column":20}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":16},"end":{"row":72,"column":20}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":20},"end":{"row":73,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":73,"column":0},"end":{"row":73,"column":20}},"text":"                    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":73,"column":20},"end":{"row":73,"column":21}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":73,"column":21},"end":{"row":73,"column":22}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":73,"column":22},"end":{"row":73,"column":23}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":73,"column":23},"end":{"row":73,"column":24}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":73,"column":24},"end":{"row":73,"column":26}},"text":"()"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":73,"column":26},"end":{"row":73,"column":27}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":8,"column":19},"end":{"row":8,"column":20}},"text":"H"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":8,"column":19},"end":{"row":8,"column":20}},"text":"h"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":8,"column":23},"end":{"row":8,"column":24}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":8,"column":22},"end":{"row":8,"column":23}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":8,"column":21},"end":{"row":8,"column":22}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":8,"column":21},"end":{"row":8,"column":22}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":8,"column":22},"end":{"row":8,"column":23}},"text":"C"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":46,"column":41},"end":{"row":47,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":47,"column":0},"end":{"row":47,"column":12}},"text":"            "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":47,"column":12},"end":{"row":47,"column":13}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":47,"column":13},"end":{"row":47,"column":14}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":47,"column":14},"end":{"row":47,"column":15}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":47,"column":15},"end":{"row":47,"column":16}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":47,"column":16},"end":{"row":47,"column":17}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":47,"column":17},"end":{"row":47,"column":18}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":47,"column":18},"end":{"row":47,"column":19}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":47,"column":19},"end":{"row":47,"column":20}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":47,"column":20},"end":{"row":47,"column":21}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":47,"column":21},"end":{"row":47,"column":22}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":47,"column":22},"end":{"row":47,"column":23}},"text":"g"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":47,"column":23},"end":{"row":47,"column":25}},"text":"()"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":47,"column":24},"end":{"row":47,"column":26}},"text":"\"\""}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":47,"column":25},"end":{"row":47,"column":26}},"text":"j"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":47,"column":26},"end":{"row":47,"column":27}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":47,"column":27},"end":{"row":47,"column":28}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":47,"column":28},"end":{"row":47,"column":29}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":47,"column":29},"end":{"row":47,"column":30}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":47,"column":30},"end":{"row":47,"column":31}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":47,"column":31},"end":{"row":47,"column":32}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":47,"column":32},"end":{"row":47,"column":33}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":47,"column":35},"end":{"row":47,"column":36}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":68,"column":39},"end":{"row":69,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":69,"column":0},"end":{"row":69,"column":20}},"text":"                    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":69,"column":20},"end":{"row":69,"column":21}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":69,"column":21},"end":{"row":69,"column":22}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":69,"column":22},"end":{"row":69,"column":23}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":69,"column":23},"end":{"row":69,"column":24}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":69,"column":24},"end":{"row":69,"column":25}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":69,"column":20},"end":{"row":69,"column":25}},"text":"conso"},{"action":"insertText","range":{"start":{"row":69,"column":20},"end":{"row":69,"column":27}},"text":"console"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":69,"column":27},"end":{"row":69,"column":28}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":69,"column":28},"end":{"row":69,"column":29}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":69,"column":29},"end":{"row":69,"column":30}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":69,"column":30},"end":{"row":69,"column":31}},"text":"g"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":69,"column":31},"end":{"row":69,"column":33}},"text":"()"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":69,"column":32},"end":{"row":69,"column":33}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":69,"column":33},"end":{"row":69,"column":34}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":69,"column":34},"end":{"row":69,"column":35}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":69,"column":35},"end":{"row":69,"column":36}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":69,"column":36},"end":{"row":69,"column":37}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":69,"column":37},"end":{"row":69,"column":38}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":69,"column":38},"end":{"row":69,"column":39}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":69,"column":40},"end":{"row":69,"column":41}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":69,"column":41},"end":{"row":70,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":70,"column":0},"end":{"row":70,"column":20}},"text":"                    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":70,"column":20},"end":{"row":70,"column":41}},"text":"console.log(results);"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":70,"column":38},"end":{"row":70,"column":39}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":70,"column":37},"end":{"row":70,"column":38}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":70,"column":36},"end":{"row":70,"column":37}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":70,"column":35},"end":{"row":70,"column":36}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":70,"column":34},"end":{"row":70,"column":35}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":70,"column":33},"end":{"row":70,"column":34}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":70,"column":32},"end":{"row":70,"column":33}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":70,"column":32},"end":{"row":70,"column":33}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":70,"column":33},"end":{"row":70,"column":34}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":70,"column":34},"end":{"row":70,"column":35}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":70,"column":35},"end":{"row":70,"column":36}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":64,"column":41},"end":{"row":64,"column":42}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":64,"column":40},"end":{"row":64,"column":41}},"text":","}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":64,"column":39},"end":{"row":64,"column":40}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":64,"column":38},"end":{"row":64,"column":39}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":64,"column":37},"end":{"row":64,"column":38}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":64,"column":36},"end":{"row":64,"column":37}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":74,"column":46},"end":{"row":74,"column":47}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":74,"column":47},"end":{"row":74,"column":48}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":74,"column":48},"end":{"row":74,"column":49}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":74,"column":47},"end":{"row":74,"column":49}},"text":"to"},{"action":"insertText","range":{"start":{"row":74,"column":47},"end":{"row":74,"column":55}},"text":"toString"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":74,"column":55},"end":{"row":74,"column":57}},"text":"()"}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":69,"column":0},"end":{"row":71,"column":0}},"nl":"\n","lines":["                    console.log(results);","                    console.log(data);"]}]}]]},"ace":{"folds":[],"customSyntax":"javascript","scrolltop":0,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":0},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1412628351158}